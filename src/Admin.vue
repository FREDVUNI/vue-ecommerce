<template>
 <div>
   <main id="col-main">
      <div class="flexslider progression-studios-dashboard-slider">
         <ul class="slides">
            <li class="progression_studios_animate_left">
               <div class="progression-studios-slider-dashboard-image-background" style="background-image:url(assets/images/demo/dashboard-slide-1.jpg);">
                  <div class="progression-studios-slider-display-table">
                     <div class="progression-studios-slider-vertical-align">
                        <div class="container">
                           <a class="progression-studios-slider-play-btn afterglow" href="#VideoLightbox-1"><i class="fas fa-play"></i></a>
                           <video id="VideoLightbox-1" poster="assets/files/View_From_A_Blue_Moon_Trailer-HD.jpg" width="960" height="540">
                              <source src="assets/files/View_From_A_Blue_Moon_Trailer-HD.jpg" type="video/mp4">
                           </video>
                           <div
                              class="circle-rating-pro"
                              data-value="0.86"
                              data-animation-start-value="0.86"
                              data-size="70"
                              data-thickness="6"
                              data-fill="{
                              &quot;color&quot;: &quot;#42b740&quot;
                              }"
                              data-empty-fill="#def6de"
                              data-reverse="true"
                              ><span style="color:#42b740;">8.6</span></div>
                           <div class="progression-studios-slider-dashboard-caption-width">
                              <div class="progression-studios-slider-caption-align">
                                 <h6>TV Series</h6>
                                 <ul class="progression-studios-slider-rating">
                                    <li>PG-13</li>
                                    <li>HD</li>
                                 </ul>
                                 <h2><a href="dashboard-movie-profile.html">Seven Days in Ibiza</a></h2>
                                 <ul class="progression-studios-slider-meta">
                                    <li>15 August, 2016 (UK)</li>
                                    <li>163 min.</li>
                                    <li>Documentary</li>
                                 </ul>
                                 <p class="progression-studios-slider-description">A sex columnist, Carrie Bradshaw, and her three friends Samantha, Charlotte 
                                    and Miranda explore  Manhattan's dating scene, chronicling the mating habits of 
                                    single New Yorkers.
                                 </p>
                                 <a class="btn btn-green-pro btn-slider-pro btn-shadow-pro afterglow" href="#VideoLightbox-1"><i class="fas fa-play"></i> Watch Trailer</a>
                                 <div class="progression-studios-slider-more-options">
                                    <i class="fas fa-ellipsis-h"></i>
                                    <ul>
                                       <li><a href="#!">Add to Favorites</a></li>
                                       <li><a href="#!">Add to Watchlist</a></li>
                                       <li><a href="#!">Add to Playlist</a></li>
                                       <li><a href="#!">Share...</a></li>
                                       <li><a href="#!">Write A Review</a></li>
                                    </ul>
                                 </div>
                                 <div class="clearfix"></div>
                                 <h5>Starring</h5>
                                 <ul class="progression-studios-staring-slider">
                                    <li><a href="#!"><img src="assets/images/demo/user-1.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-2.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-3.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-4.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-5.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-6.jpg" alt="Starring"></a></li>
                                 </ul>
                              </div>
                              <!-- close .progression-studios-slider-caption-align -->
                           </div>
                           <!-- close .progression-studios-slider-caption-width -->
                        </div>
                        <!-- close .container -->
                     </div>
                     <!-- close .progression-studios-slider-vertical-align -->
                  </div>
                  <!-- close .progression-studios-slider-display-table -->
                  <div class="progression-studios-slider-mobile-background-cover"></div>
               </div>
               <!-- close .progression-studios-slider-image-background -->
            </li>
            <li class="progression_studios_animate_in">
               <div class="progression-studios-slider-dashboard-image-background" style="background-image:url(assets/images/demo/dashboard-slide-2.jpg);">
                  <div class="progression-studios-slider-display-table">
                     <div class="progression-studios-slider-vertical-align">
                        <div class="container">
                           <a class="progression-studios-slider-play-btn afterglow" href="#VideoLightbox-2"><i class="fas fa-play"></i></a>
                           <video id="VideoLightbox-2" poster="assets/files/View_From_A_Blue_Moon_Trailer-HD.jpg" width="960" height="540">
                              <source src="assets/files/View_From_A_Blue_Moon_Trailer-HD.jpg" type="video/mp4">
                           </video>
                           <div
                              class="circle-rating-pro"
                              data-value="0.82"
                              data-animation-start-value="0.82"
                              data-size="70"
                              data-thickness="6"
                              data-fill="{
                              &quot;color&quot;: &quot;#42b740&quot;
                              }"
                              data-empty-fill="#203521"
                              data-reverse="true"
                              ><span style="color:#42b740;">8.2</span></div>
                           <div class="progression-studios-slider-dashboard-caption-width">
                              <div class="progression-studios-slider-caption-align">
                                 <h6 class="light-fonts-pro">TV Series</h6>
                                 <ul class="progression-studios-slider-rating">
                                    <li>PG-13</li>
                                    <li>HD</li>
                                 </ul>
                                 <h2 class="light-fonts-pro"><a href="dashboard-movie-profile.html">Made In America</a></h2>
                                 <ul class="progression-studios-slider-meta">
                                    <li>15 August, 2016 (UK)</li>
                                    <li>163 min.</li>
                                    <li>Documentary</li>
                                 </ul>
                                 <p class="progression-studios-slider-description light-fonts-pro">A sex columnist, Carrie Bradshaw, and her three friends Samantha, Charlotte 
                                    and Miranda explore  Manhattan's dating scene, chronicling the mating habits of 
                                    single New Yorkers.
                                 </p>
                                 <a class="btn btn-green-pro btn-slider-pro afterglow" href="#VideoLightbox-2"><i class="fas fa-play"></i> Watch Trailer</a>
                                 <div class="progression-studios-slider-more-options">
                                    <i class="fas fa-ellipsis-h"></i>
                                    <ul>
                                       <li><a href="#!">Add to Favorites</a></li>
                                       <li><a href="#!">Add to Watchlist</a></li>
                                       <li><a href="#!">Add to Playlist</a></li>
                                       <li><a href="#!">Share...</a></li>
                                       <li><a href="#!">Write A Review</a></li>
                                    </ul>
                                 </div>
                                 <div class="clearfix"></div>
                                 <h5 class="light-fonts-pro">Starring</h5>
                                 <ul class="progression-studios-staring-slider">
                                    <li><a href="#!"><img src="assets/images/demo/user-1.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-2.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-3.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-4.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-5.jpg" alt="Starring"></a></li>
                                    <li><a href="#!"><img src="assets/images/demo/user-6.jpg" alt="Starring"></a></li>
                                 </ul>
                              </div>
                              <!-- close .progression-studios-slider-caption-align -->
                           </div>
                           <!-- close .progression-studios-slider-caption-width -->
                        </div>
                        <!-- close .container -->
                     </div>
                     <!-- close .progression-studios-slider-vertical-align -->
                  </div>
                  <!-- close .progression-studios-slider-display-table -->
                  <div class="progression-studios-slider-mobile-background-cover-dark"></div>
               </div>
               <!-- close .progression-studios-slider-image-background -->
            </li>
         </ul>
      </div>
      <!-- close .progression-studios-slider - See /js/script.js file for options -->
  <ul class="dashboard-genres-pro">
     <div class="row">
      <CategoryItem v-for="(category,index) in categories" :key="category.category_id" :category="category" :index="index"></CategoryItem>
     </div>
  </ul>
      <div class="clearfix"></div>
      <div class="dashboard-container">
         <VideoItem  v-for="(video,index) in videos" :key="video.video_id" :video="video" :index="index"></VideoItem>
         <ul class="page-numbers">
            <li><a class="previous page-numbers" href="#!"><i class="fas fa-chevron-left"></i></a></li>
            <li><span class="page-numbers current">1</span></li>
            <li><a class="page-numbers" href="#!">2</a></li>
            <li><a class="page-numbers" href="#!">3</a></li>
            <li><a class="page-numbers" href="#!">4</a></li>
            <li><a class="next page-numbers" href="#!"><i class="fas fa-chevron-right"></i></a></li>
         </ul>
      </div>
      <!-- close .dashboard-container -->
   </main>
</div>
</template>

<script>
import CategoryItem from "./cmps/CategoryItem";
import VideoItem from "./cmps/VideoItem";
export default {
   data(){
      return{
         category_id: null,
         categories:[],
         description:"",
         video_id:null,
         videos:[],
      };
   },
   methods:{
      getcategories(){
         this.$api
         .get('/categories')
         .then(res=>{
            this.categories = res.data 
         })
         .catch(err => {
            this.msg = err.response.data.message;
            this.classAlert = "danger";

            console.log(err.response)
         })
      },
      getvideos(){
         this.$api
         .get('/videos')
         .then(res=>{
            this.videos = res.data 
         })
         .catch(err => {
            this.msg = err.response.data.message;
            this.classAlert = "danger";

            console.log(err.response)
         })
      },
   },
   components:{
      CategoryItem,
      VideoItem,
   },
   mounted: function() {
    //flexslider();
   },
   created(){
      this.getcategories();
      this.getvideos();
   },
}
</script>

<style>

</style>